@using ScoreTracker.Domain.SecondaryPorts
@inherits LayoutComponentBase
@inject ICurrentUserAccessor CurrentUser

<PageTitle>ScoreTracker</PageTitle>

<MudThemeProvider/>
<MudDialogProvider/>
<MudSnackbarProvider/>

<MudLayout>
    @if (CurrentUser.IsLoggedIn)
    {
        <MudDrawer @bind-Open="_isOpen" Variant="@DrawerVariant.Mini" OpenMiniOnHover="true">
            <MudNavMenu>
                <MudNavLink Href="/Account" Icon="@Icons.Filled.AccountCircle">Account</MudNavLink>
                <MudNavLink Href="/Record" Icon="@Icons.Filled.Description">Record Attempt</MudNavLink>
                <MudNavLink Href="/" Icon="@Icons.Filled.List">Best Attempts</MudNavLink>
                <MudNavLink Href="/Titles" Icon="@Icons.Filled.Grade">Titles</MudNavLink>
                <MudNavLink Href="/UploadScores" Icon="@Icons.Filled.UploadFile">Upload Scores</MudNavLink>
                <MudNavLink Href="/Logout" Icon="@Icons.Filled.Logout">Logout</MudNavLink>
            </MudNavMenu>
        </MudDrawer>
    }
    <MudMainContent>
        <MudContainer>
            @Body
        </MudContainer>
    </MudMainContent>
</MudLayout>
@code
{
    private bool _isOpen = false;
}
