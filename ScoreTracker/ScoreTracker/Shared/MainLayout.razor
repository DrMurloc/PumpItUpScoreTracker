@using ScoreTracker.Domain.SecondaryPorts
@inherits LayoutComponentBase
@inject ICurrentUserAccessor CurrentUser

<PageTitle>ScoreTracker</PageTitle>

<MudThemeProvider Theme="Theme" />
<MudDialogProvider/>
<MudSnackbarProvider/>

<MudLayout>
    <MudAppBar Color="Color.Primary" Fixed="false">
        <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="() => _isOpen = !_isOpen"/>
        <MudText Typo="Typo.h6">Score Tracker</MudText>
        <MudSpacer></MudSpacer>
        @if (CurrentUser.IsLoggedIn)
        {
            <MudIconButton Icon="@Icons.Material.Filled.AccountCircle" Color="Color.Inherit" Edge="Edge.Start" Href="/Account"></MudIconButton>
        }
        else
        {
            <MudIconButton Icon="@Icons.Material.Filled.NoAccounts" Color="Color.Inherit" Edge="Edge.Start" Href="/Login"></MudIconButton>
        }
    </MudAppBar>
    <MudDrawer @bind-Open="_isOpen" Variant="@DrawerVariant.Temporary">
        <MudNavMenu>
            @if (CurrentUser.IsLoggedIn)
            {
                <MudNavLink Href="/Account" Icon="@Icons.Material.Filled.AccountCircle">Account</MudNavLink>
                <MudDivider DividerType="DividerType.Middle"></MudDivider>
                <MudNavLink Href="/Record" Icon="@Icons.Material.Filled.Description">Record Score</MudNavLink>
                <MudDivider DividerType="DividerType.Middle"></MudDivider>
            }
            else
            {
                
                <MudNavLink Href="/Login" Icon="@Icons.Material.Filled.NoAccounts">Log In</MudNavLink>
                <MudDivider DividerType="DividerType.Middle"></MudDivider>
            }
            <MudNavLink Href="/Charts" Icon="@Icons.Material.Filled.List">Charts List</MudNavLink>
            <MudDivider DividerType="DividerType.Middle"></MudDivider>
            <MudNavLink Href="/TierLists" Icon="@Icons.Material.Filled.Topic">Tier Lists</MudNavLink>
            <MudDivider DividerType="DividerType.Middle"></MudDivider>
            <MudNavGroup Title="Progress" Icon="@Icons.Material.Filled.TrendingUp" Expanded="false">
                <MudNavLink Href="/Titles" Icon="@Icons.Material.Filled.Grade">Titles</MudNavLink>
                <MudDivider DividerType="DividerType.Middle"></MudDivider>
                @if (CurrentUser.IsLoggedIn)
                {
                    <MudNavLink Href="/Progress" Icon="@Icons.Material.Filled.BarChart">Charts</MudNavLink>
                    <MudDivider DividerType="DividerType.Middle"></MudDivider>
                }
            </MudNavGroup>
            <MudDivider DividerType="DividerType.Middle"></MudDivider>
            <MudNavGroup Title="Tools" Icon="@Icons.Material.Filled.Build" Expanded="false">
                <MudNavLink Href="/PhoenixCalculator" Icon="@Icons.Material.Filled.Calculate">Phoenix Score Calculator</MudNavLink>
                <MudDivider DividerType="DividerType.Middle"></MudDivider>
                <MudNavLink Href="/ChartRandomizer" Icon="@Icons.Material.Filled.QuestionMark">Chart Randomizer</MudNavLink>
            </MudNavGroup>
            <MudDivider DividerType="DividerType.Middle"></MudDivider>
            <MudNavGroup Title="Tournaments" Icon="@Icons.Material.Filled.Leaderboard" Expanded="false">
                <MudNavLink Href="/Tournaments" Icon="@Icons.Material.Filled.Leaderboard">Tournaments</MudNavLink>
                <MudDivider DividerType="DividerType.Middle"></MudDivider>
                <MudNavLink Href="/TournamentBuilder" Icon="@Icons.Material.Filled.Calculate">Tournament Builder</MudNavLink>
            </MudNavGroup>
            <MudDivider DividerType="DividerType.Middle"></MudDivider>
            <MudNavLink Href="/Players" Icon="@Icons.Material.Filled.Person">Find Players</MudNavLink>
            <MudDivider DividerType="DividerType.Middle"></MudDivider>
            <MudNavLink Href="/About" Icon="@Icons.Material.Filled.Info">About</MudNavLink>
        </MudNavMenu>
    </MudDrawer>
    <MudMainContent>
        <MudContainer>
            @Body
        </MudContainer>
    </MudMainContent>
</MudLayout>
@code
{
    private bool _isOpen = false;
    private static readonly MudTheme Theme = new()
        {
            Palette = new()
            {
                //77BCDC
                //466E8d
                Primary = "#80B3D4",
                Secondary = "#8FBCD8",
                Error = "#C72020",
                Success = "#6EDE7F",
                Warning = "#FFC433",
                TextPrimary = "#EDF1F5",
                TextSecondary = "#EDF1F5",
                ActionDefault = "#EDF1F5",
                ActionDisabled = "#d3d3d3",
                Background = "#18191A",
                BackgroundGrey = "#3A3B3C",
                Surface = "#242526",
                TextDisabled = "#d3d3d3",
                DrawerBackground = "#283E5C",
                DrawerIcon = "#EDF1F5",
                DrawerText = "#EDF1F5"

            }
        };
}
